import{S as he,i as _e,s as ve,k,q as T,l as D,m as I,r as V,h as g,n as b,b as C,H as u,N as me,u as y,E as se,O as be,a as R,c as U,f as G,g as we,d as Ee,t as ee,P as ke,v as le,Q as ae,x as De,y as Ie,z as qe,R as ie,A as Te}from"./paths-622640f6.js";function Ve(n){for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),s=n[e];n[e]=n[t],n[t]=s}return n}function ge(n,e){const t=Math.floor(Math.random()*n.length),s=n[t];return e.indexOf(s)===-1?s:ge(n,e)}function re(n,e){const t=[];n.indexOf(e)>-1&&t.push(e);for(let s=0;s<3;s++)t.push(ge(n,t));return Ve(t)}function Oe(n){let e,t,s,f,o,a;return{c(){e=k("li"),t=k("button"),s=T(n[0]),this.h()},l(r){e=D(r,"LI",{class:!0});var l=I(e);t=D(l,"BUTTON",{class:!0});var c=I(t);s=V(c,n[0]),c.forEach(g),l.forEach(g),this.h()},h(){b(t,"class",f="btn btn-"+n[3]+" text-start"),t.disabled=n[2],b(e,"class","list-group-item d-grid gap-2")},m(r,l){C(r,e,l),u(e,t),u(t,s),o||(a=me(t,"click",n[7]),o=!0)},p(r,[l]){l&1&&y(s,r[0]),l&8&&f!==(f="btn btn-"+r[3]+" text-start")&&b(t,"class",f),l&4&&(t.disabled=r[2])},i:se,o:se,d(r){r&&g(e),o=!1,a()}}}function Qe(n,e,t){let s,f,o,{answers:a}=e,{answerText:r}=e,{question:l}=e;const c=be(),m=()=>c("answer",{id:l.id,answer:r});return n.$$set=p=>{"answers"in p&&t(5,a=p.answers),"answerText"in p&&t(0,r=p.answerText),"question"in p&&t(1,l=p.question)},n.$$.update=()=>{n.$$.dirty&34&&t(6,s=a.find(p=>p.id===l.id)),n.$$.dirty&67&&t(3,f=s?l.answer===r?"success":"danger":"light"),n.$$.dirty&64&&t(2,o=s!==void 0)},[r,l,o,f,c,a,s,m]}class Ne extends he{constructor(e){super(),_e(this,e,Qe,Oe,ve,{answers:5,answerText:0,question:1})}}function oe(n,e,t){const s=n.slice();return s[11]=e[t],s[13]=t,s}function ue(n){let e,t,s,f,o,a=n[6].explanation+"",r;return{c(){e=k("div"),t=k("h4"),s=T("Forklaring"),f=R(),o=k("p"),r=T(a),this.h()},l(l){e=D(l,"DIV",{class:!0,role:!0});var c=I(e);t=D(c,"H4",{class:!0});var m=I(t);s=V(m,"Forklaring"),m.forEach(g),f=U(c),o=D(c,"P",{});var p=I(o);r=V(p,a),p.forEach(g),c.forEach(g),this.h()},h(){b(t,"class","alert-heading"),b(e,"class","alert alert-info"),b(e,"role","alert")},m(l,c){C(l,e,c),u(e,t),u(t,s),u(e,f),u(e,o),u(o,r)},p(l,c){c&64&&a!==(a=l[6].explanation+"")&&y(r,a)},d(l){l&&g(e)}}}function fe(n){let e,t,s,f;function o(l){n[9](l)}function a(l){n[10](l)}let r={answerText:n[11].answer};return n[6]!==void 0&&(r.question=n[6]),n[1]!==void 0&&(r.answers=n[1]),e=new Ne({props:r}),le.push(()=>ae(e,"question",o)),le.push(()=>ae(e,"answers",a)),e.$on("answer",n[8]),{c(){De(e.$$.fragment)},l(l){Ie(e.$$.fragment,l)},m(l,c){qe(e,l,c),f=!0},p(l,c){const m={};c&65&&(m.answerText=l[11].answer),!t&&c&64&&(t=!0,m.question=l[6],ie(()=>t=!1)),!s&&c&2&&(s=!0,m.answers=l[1],ie(()=>s=!1)),e.$set(m)},i(l){f||(G(e.$$.fragment,l),f=!0)},o(l){ee(e.$$.fragment,l),f=!1},d(l){Te(e,l)}}}function ce(n){let e,t,s,f;return{c(){e=k("button"),t=T("Neste"),this.h()},l(o){e=D(o,"BUTTON",{class:!0});var a=I(e);t=V(a,"Neste"),a.forEach(g),this.h()},h(){b(e,"class","btn btn-primary"),e.disabled=n[3]},m(o,a){C(o,e,a),u(e,t),s||(f=me(e,"click",n[7]),s=!0)},p(o,a){a&8&&(e.disabled=o[3])},d(o){o&&g(e),s=!1,f()}}}function de(n){let e;return{c(){e=k("div"),this.h()},l(t){e=D(t,"DIV",{class:!0});var s=I(e);s.forEach(g),this.h()},h(){b(e,"class","row mt-2")},m(t,s){C(t,e,s)},d(t){t&&g(e)}}}function Se(n){let e,t,s,f,o,a,r,l=n[0].indexOf(n[6])+1+"",c,m,p=n[0].length+"",H,z,_=n[6].question+"",O,J,S,K,Q,A,W,L,X,B,Z,N,w=n[5]&&!n[5].value&&n[6].explanation&&ue(n),M=re(n[0],n[6]),h=[];for(let i=0;i<M.length;i+=1)h[i]=fe(oe(n,M,i));const pe=i=>ee(h[i],1,1,()=>{h[i]=null});let E=n[2]!==n[0][n[0].length-1].id&&ce(n),q=n[3]&&de();return{c(){e=k("div"),t=k("div"),s=k("div"),w&&w.c(),f=R(),o=k("div"),a=k("h5"),r=T("Spørsmål "),c=T(l),m=T(" av "),H=T(p),z=T(": "),O=T(_),J=R(),S=k("ul");for(let i=0;i<h.length;i+=1)h[i].c();K=R(),Q=k("div"),A=k("div"),W=T("Poeng: "),L=T(n[4]),X=R(),B=k("div"),E&&E.c(),Z=R(),q&&q.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var d=I(e);t=D(d,"DIV",{class:!0});var v=I(t);s=D(v,"DIV",{class:!0});var P=I(s);w&&w.l(P),f=U(P),o=D(P,"DIV",{class:!0});var j=I(o);a=D(j,"H5",{class:!0});var F=I(a);r=V(F,"Spørsmål "),c=V(F,l),m=V(F," av "),H=V(F,p),z=V(F,": "),O=V(F,_),F.forEach(g),J=U(j),S=D(j,"UL",{class:!0});var te=I(S);for(let $=0;$<h.length;$+=1)h[$].l(te);te.forEach(g),j.forEach(g),P.forEach(g),v.forEach(g),K=U(d),Q=D(d,"DIV",{class:!0});var Y=I(Q);A=D(Y,"DIV",{class:!0});var x=I(A);W=V(x,"Poeng: "),L=V(x,n[4]),x.forEach(g),X=U(Y),B=D(Y,"DIV",{class:!0});var ne=I(B);E&&E.l(ne),ne.forEach(g),Y.forEach(g),Z=U(d),q&&q.l(d),d.forEach(g),this.h()},h(){b(a,"class","card-header"),b(S,"class","list-group list-group-flush"),b(o,"class","card"),b(s,"class","col"),b(t,"class","row"),b(A,"class","col"),b(B,"class","col text-end"),b(Q,"class","row mt-2"),b(e,"class","container")},m(i,d){C(i,e,d),u(e,t),u(t,s),w&&w.m(s,null),u(s,f),u(s,o),u(o,a),u(a,r),u(a,c),u(a,m),u(a,H),u(a,z),u(a,O),u(o,J),u(o,S);for(let v=0;v<h.length;v+=1)h[v].m(S,null);u(e,K),u(e,Q),u(Q,A),u(A,W),u(A,L),u(Q,X),u(Q,B),E&&E.m(B,null),u(e,Z),q&&q.m(e,null),N=!0},p(i,[d]){if(i[5]&&!i[5].value&&i[6].explanation?w?w.p(i,d):(w=ue(i),w.c(),w.m(s,f)):w&&(w.d(1),w=null),(!N||d&65)&&l!==(l=i[0].indexOf(i[6])+1+"")&&y(c,l),(!N||d&1)&&p!==(p=i[0].length+"")&&y(H,p),(!N||d&64)&&_!==(_=i[6].question+"")&&y(O,_),d&323){M=re(i[0],i[6]);let v;for(v=0;v<M.length;v+=1){const P=oe(i,M,v);h[v]?(h[v].p(P,d),G(h[v],1)):(h[v]=fe(P),h[v].c(),G(h[v],1),h[v].m(S,null))}for(we(),v=M.length;v<h.length;v+=1)pe(v);Ee()}(!N||d&16)&&y(L,i[4]),i[2]!==i[0][i[0].length-1].id?E?E.p(i,d):(E=ce(i),E.c(),E.m(B,null)):E&&(E.d(1),E=null),i[3]?q||(q=de(),q.c(),q.m(e,null)):q&&(q.d(1),q=null)},i(i){if(!N){for(let d=0;d<M.length;d+=1)G(h[d]);N=!0}},o(i){h=h.filter(Boolean);for(let d=0;d<h.length;d+=1)ee(h[d]);N=!1},d(i){i&&g(e),w&&w.d(),ke(h,i),E&&E.d(),q&&q.d()}}}function Ae(n,e,t){let s,f,o,{questions:a}=e,r=[];function l(){m!=a[a.length-1].id?t(2,m++,m):t(3,p=!0)}function c(_){t(1,r=[...r.filter(O=>O.id!==_.detail.id),{id:_.detail.id,value:s.answer===_.detail.answer}])}let m=a[0].id,p=!1;function H(_){s=_,t(6,s),t(0,a),t(2,m)}function z(_){r=_,t(1,r)}return n.$$set=_=>{"questions"in _&&t(0,a=_.questions)},n.$$.update=()=>{n.$$.dirty&5&&t(6,s=a.find(_=>_.id===m)),n.$$.dirty&6&&t(5,f=r.find(_=>_.id===m)),n.$$.dirty&2&&t(4,o=r.reduce((_,O)=>_+=O.value?1:0,0))},[a,r,m,p,o,f,s,l,c,H,z]}class Me extends he{constructor(e){super(),_e(this,e,Ae,Se,ve,{questions:0})}}export{Me as Q};
